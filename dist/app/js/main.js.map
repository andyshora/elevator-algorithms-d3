{"version":3,"sources":["detector.js","shims.js","stats.js","ui.js"],"names":[],"mappings":";;;;;;;AAKA,QAAQ,GAAG;;AAET,QAAM,EAAE,CAAC,CAAE,MAAM,CAAC,wBAAwB;AAC1C,OAAK,EAAE,CAAE,YAAY;AAAE,QAAI;AAAE,aAAO,CAAC,CAAE,MAAM,CAAC,qBAAqB,IAAI,CAAC,CAAE,QAAQ,CAAC,aAAa,CAAE,QAAQ,CAAE,CAAC,UAAU,CAAE,oBAAoB,CAAE,CAAC;KAAE,CAAC,OAAO,CAAC,EAAG;AAAE,aAAO,KAAK,CAAC;KAAE;GAAE,CAAA,EAAI;AACrL,SAAO,EAAE,CAAC,CAAE,MAAM,CAAC,MAAM;AACzB,SAAO,EAAE,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,IAAI;;AAE3E,sBAAoB,EAAE,gCAAY;;AAEhC,QAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAE,KAAK,CAAE,CAAC;AAC9C,WAAO,CAAC,EAAE,GAAG,qBAAqB,CAAC;AACnC,WAAO,CAAC,KAAK,CAAC,UAAU,GAAG,WAAW,CAAC;AACvC,WAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;AAChC,WAAO,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;AACpC,WAAO,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;AACnC,WAAO,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;AAClC,WAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;AAC7B,WAAO,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;AAChC,WAAO,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;AAC9B,WAAO,CAAC,KAAK,CAAC,MAAM,GAAG,YAAY,CAAC;;AAEpC,QAAK,CAAE,IAAI,CAAC,KAAK,EAAG;;AAElB,aAAO,CAAC,SAAS,GAAG,MAAM,CAAC,qBAAqB,GAAG,CACjD,wJAAwJ,EACxJ,qFAAqF,CACtF,CAAC,IAAI,CAAE,IAAI,CAAE,GAAG,CACf,iJAAiJ,EACjJ,qFAAqF,CACtF,CAAC,IAAI,CAAE,IAAI,CAAE,CAAC;KAEhB;;AAED,WAAO,OAAO,CAAC;GAEhB;;AAED,oBAAkB,EAAE,4BAAW,UAAU,EAAG;;AAE1C,QAAI,MAAM,EAAE,EAAE,EAAE,OAAO,CAAC;;AAExB,cAAU,GAAG,UAAU,IAAI,EAAE,CAAC;;AAE9B,UAAM,GAAG,UAAU,CAAC,MAAM,KAAK,SAAS,GAAG,UAAU,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC7E,MAAE,GAAG,UAAU,CAAC,EAAE,KAAK,SAAS,GAAG,UAAU,CAAC,EAAE,GAAG,OAAO,CAAC;;AAE3D,WAAO,GAAG,QAAQ,CAAC,oBAAoB,EAAE,CAAC;AAC1C,WAAO,CAAC,EAAE,GAAG,EAAE,CAAC;;AAEhB,UAAM,CAAC,WAAW,CAAE,OAAO,CAAE,CAAC;GAE/B;;CAEF,CAAC;;;;;ACxDF,MAAM,CAAC,gBAAgB,GAAG,CAAC,YAAU;AACnC,SAAO,MAAM,CAAC,qBAAqB,IACjC,MAAM,CAAC,2BAA2B,IAClC,MAAM,CAAC,wBAAwB,IAC/B,MAAM,CAAC,sBAAsB,IAC7B,MAAM,CAAC,uBAAuB,IAC9B,yBAAwB,QAAQ,kBAAmB,OAAO,EAAC;AACzD,UAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;GACxC,CAAC;CACH,CAAA,EAAG,CAAC;;;;ACVP,IAAI,KAAK,GAAC,SAAN,KAAK,GAAW;AAAC,MAAI,CAAC,GAAC,IAAI,CAAC,GAAG,EAAE;MAAC,CAAC,GAAC,CAAC;MAAC,CAAC,GAAC,CAAC;MAAC,CAAC,GAAC,QAAQ;MAAC,CAAC,GAAC,CAAC;MAAC,CAAC,GAAC,CAAC;MAAC,CAAC,GAAC,QAAQ;MAAC,CAAC,GAAC,CAAC;MAAC,CAAC,GAAC,CAAC;MAAC,CAAC,GAAC,CAAC;MAAC,CAAC,GAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,OAAO,CAAC,CAAC,CAAC,gBAAgB,CAAC,WAAW,EAAC,UAAS,CAAC,EAAC;AAAC,KAAC,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAC,CAAC,CAAC,CAAA;GAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,uCAAuC,CAAC,IAAI,CAAC,GAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,2DAA2D,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,mGAAmG,CAAC;AAC5jB,GAAC,CAAC,SAAS,GAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,gEAAgE,CAAC,KAAI,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAC,EAAE,GAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAE;AAAC,QAAI,CAAC,GAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,wDAAwD,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAA;GAAC,IAAI,CAAC,GAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,wEAAwE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC/gB,GAAC,CAAC,EAAE,GAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,mGAAmG,CAAC,CAAC,CAAC,SAAS,GAAC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,gEAAgE,CAAC,KAAI,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAC,EAAE,GAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAE,CAAC,GAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,EAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,wDAAwD,EAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAC,SAAF,CAAC,CAAU,CAAC,EAAC;AAAC,KAAC,GAAC,CAAC,CAAC,QAAO,CAAC,GAAE,KAAK,CAAC;AAAC,SAAC,CAAC,KAAK,CAAC,OAAO,GACpgB,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,MAAM,CAAC,MAAM,KAAK,CAAC;AAAC,SAAC,CAAC,KAAK,CAAC,OAAO,GAAC,MAAM,EAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAC,OAAO,CAAA,CAAC;GAAC,CAAC,OAAM,EAAC,QAAQ,EAAC,EAAE,EAAC,UAAU,EAAC,CAAC,EAAC,OAAO,EAAC,CAAC,EAAC,KAAK,EAAC,iBAAU;AAAC,OAAC,GAAC,IAAI,CAAC,GAAG,EAAE,CAAA;KAAC,EAAC,GAAG,EAAC,eAAU;AAAC,UAAI,CAAC,GAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,GAAC,CAAC,GAAC,OAAO,GAAC,CAAC,GAAC,GAAG,GAAC,CAAC,GAAC,GAAG,CAAC,IAAI,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAC,EAAE,GAAC,EAAE,IAAE,CAAC,GAAC,GAAG,CAAA,AAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,MAAM,GAAC,CAAC,GAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,GAAC,CAAC,GAAC,GAAG,KAAG,CAAC,GAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAC,CAAC,IAAE,CAAC,GAAC,CAAC,CAAA,AAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,WAAW,GAAC,CAAC,GAAC,QAAQ,GAAC,CAAC,GAAC,GAAG,GAAC,CAAC,GAAC,GAAG,EAAC,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAC,EAAE,GAAC,EAAE,IAAE,CAAC,GAAC,GAAG,CAAA,AAAC,CAAC,EAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,MAAM,GACnhB,CAAC,GAAC,IAAI,EAAC,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,CAAC,CAAA,AAAC,CAAC,OAAO,CAAC,CAAA;KAAC,EAAC,MAAM,EAAC,kBAAU;AAAC,OAAC,GAAC,IAAI,CAAC,GAAG,EAAE,CAAA;KAAC,EAAC,CAAA;CAAC,CAAC;;;ACL5D,IAAI,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC,CAAC;;AAE5E,GAAG,CAAC,MAAM,CAAC,UAAS,aAAa,EAAE;;AAEjC,eAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG,kBAAkB,CAAC;CACnE,CAAC,CAAC;;AAEH,GAAG,CAAC,UAAU,CAAC,UAAU,EAAE,UAAU,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE;;AAE7D,QAAM,CAAC,YAAY,GAAG,KAAK,CAAC;AAC5B,QAAM,CAAC,KAAK,GAAG,EAAE,CAAC;AAClB,QAAM,CAAC,UAAU,GAAG,KAAK,CAAC;AAC1B,QAAM,CAAC,YAAY,GAAG,KAAK,CAAC;AAC5B,QAAM,CAAC,gBAAgB,GAAG,CAAC,CAAC;;;AAG5B,QAAM,CAAC,SAAS,GAAG,KAAK,CAAC;AACzB,QAAM,CAAC,SAAS,GAAG,CAAC,CAAC;AACrB,QAAM,CAAC,SAAS,GAAG,CAAC,CAAC;AACrB,QAAM,CAAC,eAAe,GAAG,EAAE,CAAC;AAC5B,QAAM,CAAC,UAAU,GAAG,8EAA8E,CAAC;;AAEnG,MAAI,gBAAgB,GAAG,CAAC,CAAC;AACzB,MAAI,KAAK,GAAG,IAAI,CAAC;AACjB,MAAI,WAAW,GAAG,EAAE,CAAC;;AAErB,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE;AAChC,eAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GACxB;;AAED,MAAI,MAAM,GAAG,SAAS,CAAC,8CAA8C,CAAC,CAAC;;AAEvE,QAAM,CAAC,kBAAkB,GAAG,YAAW;AACrC,MAAE,CAAC,KAAK,EAAE,CAAC;AACX,SAAK,CAAC,OAAO,EAAE,CAAC;;AAEhB,UAAM,CAAC,YAAY,GAAG,KAAK,CAAC;AAC5B,UAAM,CAAC,KAAK,GAAG,EAAE,CAAC;GACnB,CAAC;;AAEF,QAAM,CAAC,WAAW,GAAG,YAAW;;AAE9B,SAAK,GAAG,IAAI,KAAK,CAAC,eAAe,EAAE;AACjC,eAAS,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;AACzC,sBAAgB,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC,GAAG,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;AACnG,UAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;AACpC,eAAS,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;AACzC,eAAS,EAAE,IAAI;AACf,oBAAc,EAAE,cAAc;AAC9B,sBAAgB,EAAE,gBAAgB;AAClC,iBAAW,EAAE,aAAa;AAC1B,WAAK,EAAE,IAAI;AACX,qBAAe,EAAE,eAAe;AAChC,kBAAY,EAAE,YAAY;AAC1B,oBAAc,EAAE,cAAc;AAC9B,gBAAU,EAAE,MAAM,CAAC,UAAU;AAC7B,qBAAe,EAAE,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,EAAE,CAAC;KACtD,CAAC,CAAC;;AAEH,UAAM,CAAC,YAAY,GAAG,IAAI,CAAC;AAC3B,mBAAe,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;GAEpC,CAAC;;AAEF,QAAM,CAAC,MAAM,CAAC,WAAW,EAAE,UAAS,SAAS,EAAE;;AAE7C,QAAI,SAAS,EAAE;AACb,UAAI,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC,GAAG,OAAO,EAAE;AACrC,cAAM,CAAC,eAAe,GAAG,EAAE,CAAC;OAC7B,MAAM,IAAI,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC,GAAG,MAAM,EAAE;AAC3C,cAAM,CAAC,eAAe,GAAG,EAAE,CAAC;OAC7B;KACF;GACF,CAAC,CAAC;;;;;;AAMH,WAAS,eAAe,CAAC,KAAK,EAAE;AAC9B,UAAM,CAAC,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC;AAC3B,UAAM,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;AACnC,UAAM,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AACzB,UAAM,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AACzB,UAAM,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;;AAEzB,QAAI,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,EAAE,UAAS,IAAI,EAAE;;AAE3D,UAAI,UAAU,EAAE;AACd,cAAM,CAAC,KAAK,CAAC,OAAO,GAAG;AACrB,oBAAU,EAAE,UAAU,CAAC,UAAU;AACjC,2BAAiB,EAAE,UAAU,CAAC,iBAAiB;AAC/C,gBAAM,EAAE,UAAU,CAAC,MAAM;SAC1B,CAAC;;OAEH;KAGF,CAAC,CAAC;;AAEH,UAAM,CAAC,MAAM,EAAE,CAAC;GACjB;;AAED,WAAS,cAAc,CAAC,CAAC,EAAE;;AAEzB,UAAM,CAAC,gBAAgB,EAAE,CAAC;AAC1B,UAAM,CAAC,MAAM,EAAE,CAAC;GACjB;;AAED,WAAS,YAAY,CAAC,CAAC,EAAE,EAAE,EAAE;;;AAG3B,eAAW,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;AACpB,UAAM,CAAC,gBAAgB,EAAE,CAAC;AAC1B,UAAM,CAAC,MAAM,EAAE,CAAC;GACjB;;AAED,QAAM,CAAC,cAAc,GAAG,YAAW;AACjC,UAAM,CAAC,UAAU,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;AACvC,SAAK,CAAC,aAAa,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;GACxC,CAAC;;AAEF,WAAS,eAAe,CAAC,UAAU,EAAE;AACnC,WAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;;AAE/B,QAAI,GAAG,GAAG,EAAE,CAAC;AACb,QAAI,CAAC,GAAG,CAAC,CAAC;AACV,MAAE,GAAG,IAAI,WAAW,CAAC,UAAU,CAAC,CAAC;AACjC,WAAO,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;AAChC,MAAE,CAAC,SAAS,GAAG,UAAS,CAAC,EAAE;AACzB,OAAC,EAAE,CAAC;;AAEJ,UAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;;AAE9B,WAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;AAEpC,gBAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB,eAAK,KAAK;AACR,gBAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB,gBAAI,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB,gBAAI,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;;AAE1C,gBAAI,KAAK,KAAK,IAAI,EAAE;;AAElB,oBAAM;aACP;;;AAGD,gBAAI,CAAC,GAAG,gBAAgB,KAAK,CAAC,EAAE;AAC9B,mBAAK,CAAC,WAAW,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;aACvE;;;AAGD,gBAAI,MAAM,CAAC,KAAK,IAAK,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,EAAE,EAAE,CAAC,AAAC,EAAE;AAC1D,oBAAM,CAAC,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AAC3B,oBAAM,CAAC,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AAC3B,oBAAM,CAAC,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;;;AAG3B,oBAAM,CAAC,MAAM,EAAE,CAAC;aACjB;;AAGD,kBAAM;AAAA,AACR,eAAK,KAAK;AACR,gBAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB,gBAAI,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB,gBAAI,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;;AAGxB,gBAAI,WAAW,CAAC,EAAE,CAAC,KAAK,IAAI,EAAE;;AAE5B,oBAAM;aACP;;AAED,iBAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;AAC9E,kBAAM;AAAA,AACN,eAAK,KAAK;AACR,gBAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB,iBAAK,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;;AAEnC,uBAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;AACzB,kBAAM;AAAA,SACP;OAGF;KAEF,CAAC;AACF,MAAE,CAAC,MAAM,GAAG,UAAS,CAAC,EAAE;AACtB,aAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAAC;KACrC,CAAC;AACF,MAAE,CAAC,OAAO,GAAG,YAAW;AACtB,aAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;KACvB,CAAC;GACH;CAGF,CAAC,CAAC","file":"main.js","sourcesContent":["/**\n * @author alteredq / http://alteredqualia.com/\n * @author mr.doob / http://mrdoob.com/\n */\n\nDetector = {\n\n  canvas: !! window.CanvasRenderingContext2D,\n  webgl: ( function () { try { return !! window.WebGLRenderingContext && !! document.createElement( 'canvas' ).getContext( 'experimental-webgl' ); } catch( e ) { return false; } } )(),\n  workers: !! window.Worker,\n  fileapi: window.File && window.FileReader && window.FileList && window.Blob,\n\n  getWebGLErrorMessage: function () {\n\n    var element = document.createElement( 'div' );\n    element.id = 'webgl-error-message';\n    element.style.fontFamily = 'monospace';\n    element.style.fontSize = '13px';\n    element.style.fontWeight = 'normal';\n    element.style.textAlign = 'center';\n    element.style.background = '#fff';\n    element.style.color = '#000';\n    element.style.padding = '1.5em';\n    element.style.width = '400px';\n    element.style.margin = '5em auto 0';\n\n    if ( ! this.webgl ) {\n\n      element.innerHTML = window.WebGLRenderingContext ? [\n        'Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br />',\n        'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'\n      ].join( '\\n' ) : [\n        'Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br/>',\n        'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000\">here</a>.'\n      ].join( '\\n' );\n\n    }\n\n    return element;\n\n  },\n\n  addGetWebGLMessage: function ( parameters ) {\n\n    var parent, id, element;\n\n    parameters = parameters || {};\n\n    parent = parameters.parent !== undefined ? parameters.parent : document.body;\n    id = parameters.id !== undefined ? parameters.id : 'oldie';\n\n    element = Detector.getWebGLErrorMessage();\n    element.id = id;\n\n    parent.appendChild( element );\n\n  }\n\n};\n","// RAF shim\n// @see http://paulirish.com/2011/requestanimationframe-for-smart-animating/\nwindow.requestAnimFrame = (function(){\n  return window.requestAnimationFrame  ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame    ||\n    window.oRequestAnimationFrame      ||\n    window.msRequestAnimationFrame     ||\n    function(/* function */ callback, /* DOMElement */ element){\n      window.setTimeout(callback, 1000 / 60);\n    };\n  })();\n","// stats.js - http://github.com/mrdoob/stats.js\nvar Stats=function(){var l=Date.now(),m=l,g=0,n=Infinity,o=0,h=0,p=Infinity,q=0,r=0,s=0,f=document.createElement(\"div\");f.id=\"stats\";f.addEventListener(\"mousedown\",function(b){b.preventDefault();t(++s%2)},!1);f.style.cssText=\"width:80px;opacity:0.9;cursor:pointer\";var a=document.createElement(\"div\");a.id=\"fps\";a.style.cssText=\"padding:0 0 3px 3px;text-align:left;background-color:#002\";f.appendChild(a);var i=document.createElement(\"div\");i.id=\"fpsText\";i.style.cssText=\"color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px\";\ni.innerHTML=\"FPS\";a.appendChild(i);var c=document.createElement(\"div\");c.id=\"fpsGraph\";c.style.cssText=\"position:relative;width:74px;height:30px;background-color:#0ff\";for(a.appendChild(c);74>c.children.length;){var j=document.createElement(\"span\");j.style.cssText=\"width:1px;height:30px;float:left;background-color:#113\";c.appendChild(j)}var d=document.createElement(\"div\");d.id=\"ms\";d.style.cssText=\"padding:0 0 3px 3px;text-align:left;background-color:#020;display:none\";f.appendChild(d);var k=document.createElement(\"div\");\nk.id=\"msText\";k.style.cssText=\"color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px\";k.innerHTML=\"MS\";d.appendChild(k);var e=document.createElement(\"div\");e.id=\"msGraph\";e.style.cssText=\"position:relative;width:74px;height:30px;background-color:#0f0\";for(d.appendChild(e);74>e.children.length;)j=document.createElement(\"span\"),j.style.cssText=\"width:1px;height:30px;float:left;background-color:#131\",e.appendChild(j);var t=function(b){s=b;switch(s){case 0:a.style.display=\n\"block\";d.style.display=\"none\";break;case 1:a.style.display=\"none\",d.style.display=\"block\"}};return{REVISION:11,domElement:f,setMode:t,begin:function(){l=Date.now()},end:function(){var b=Date.now();g=b-l;n=Math.min(n,g);o=Math.max(o,g);k.textContent=g+\" MS (\"+n+\"-\"+o+\")\";var a=Math.min(30,30-30*(g/200));e.appendChild(e.firstChild).style.height=a+\"px\";r++;b>m+1E3&&(h=Math.round(1E3*r/(b-m)),p=Math.min(p,h),q=Math.max(q,h),i.textContent=h+\" FPS (\"+p+\"-\"+q+\")\",a=Math.min(30,30-30*(h/100)),c.appendChild(c.firstChild).style.height=\na+\"px\",m=b,r=0);return b},update:function(){l=this.end()}}};\n","var app = angular.module('WorldViewerApp', ['ngResource', 'jsonFormatter']);\n\napp.config(function($httpProvider) {\n  // required for REST API\n  $httpProvider.defaults.headers.common.Accept = 'application/json';\n});\n\napp.controller('MainCtrl', function ($scope, $resource, $http) {\n\n  $scope.controlsOpen = false;\n  $scope.point = {};\n  $scope.autoRotate = false;\n  $scope.worldCreated = false;\n  $scope.particlesInWorld = 0;\n\n  // world params\n  $scope.worldSize = 10000;\n  $scope.numPoints = 0;\n  $scope.pointSize = 6;\n  $scope.targetFrameRate = 60;\n  $scope.dataSource = 'http://172.16.2.133:5005/entities/position?southWest=-31,-24&northEast=30,23';\n\n  var streamSampleRate = 1;\n  var world = null;\n  var vertexIndex = [];\n\n  for (var i = 0; i < 1000000; i++) {\n    vertexIndex.push(null);\n  }\n\n  var Entity = $resource('http://172.16.2.133:5000/api/v1/entities/:id');\n\n  $scope.onCreateNewClicked = function() {\n    es.close();\n    world.destroy();\n    // world = null;\n    $scope.worldCreated = false;\n    $scope.point = {};\n  };\n\n  $scope.createWorld = function() {\n\n    world = new World('Andy\\'s World', {\n      numPoints: parseInt($scope.numPoints, 10),\n      numReservePoints: parseInt($scope.numPoints, 10) < 100000 ? 100000 : parseInt($scope.numPoints, 10),\n      size: parseInt($scope.worldSize, 10),\n      pointSize: parseInt($scope.pointSize, 10),\n      showStats: true,\n      vertexShaderId: 'vertexshader',\n      fragmentShaderId: 'fragmentshader',\n      containerId: 'WebGLCanvas',\n      debug: true,\n      onPointSelected: onPointSelected,\n      onPointAdded: onPointAdded,\n      onPointDeleted: onPointDeleted,\n      autoRotate: $scope.autoRotate,\n      targetFrameRate: parseInt($scope.targetFrameRate, 10)\n    });\n\n    $scope.worldCreated = true;\n    initEventSource($scope.dataSource);\n\n  };\n\n  $scope.$watch('numPoints', function(numPoints) {\n    // lower target frame rate as user changes numPoints\n    if (numPoints) {\n      if (parseInt(numPoints, 10) > 1000000) {\n        $scope.targetFrameRate = 12;\n      } else if (parseInt(numPoints, 10) > 500000) {\n        $scope.targetFrameRate = 30;\n      }\n    }\n  });\n\n  /*$scope.$watch('point', function(p) {\n    console.log(p);\n  }, true);*/\n\n  function onPointSelected(point) {\n    $scope.point.id = point.id;\n    $scope.point.prefab = point.prefab;\n    $scope.point.x = point.x;\n    $scope.point.y = point.y;\n    $scope.point.z = point.z;\n\n    var entityData = Entity.get({ id: point.id }, function(data) {\n\n      if (entityData) {\n        $scope.point.payload = {\n          behaviours: entityData.behaviours,\n          engineAssignments: entityData.engineAssignments,\n          states: entityData.states\n        };\n        // console.log('Entity data', $scope.point.payload);\n      }\n\n\n    });\n\n    $scope.$apply();\n  }\n\n  function onPointDeleted(i) {\n    // console.log('onPointDeleted', i);\n    $scope.particlesInWorld--;\n    $scope.$apply();\n  }\n\n  function onPointAdded(i, id) {\n    // console.log('onPointAdded', i, id);\n    // store vertex position of this entity\n    vertexIndex[id] = i;\n    $scope.particlesInWorld++;\n    $scope.$apply();\n  }\n\n  $scope.toggleRotation = function() {\n    $scope.autoRotate = !$scope.autoRotate;\n    world.setAutoRotate($scope.autoRotate);\n  };\n\n  function initEventSource(dataSource) {\n    console.log('initEventSource');\n\n    var arr = [];\n    var i = 0;\n    es = new EventSource(dataSource);\n    console.log('event source', es);\n    es.onmessage = function(e) {\n      i++;\n\n      var data = JSON.parse(e.data);\n\n      for (var j = 0; j < data.length; j++) {\n\n        switch (data[j][0]) {\n          case 'put':\n            var id = data[j][1];\n            var coords = data[j][2];\n            var index = vertexIndex[parseInt(id, 10)];\n\n            if (index === null) {\n              // console.log('Invalid update request. Entity ' + id + ' has not been added yet:', vertexIndex[id]);\n              break;\n            }\n\n            // potentially sample the updates if they are very high frequency\n            if (i % streamSampleRate === 0) {\n              world.updatePoint(index, coords[0], coords[1], coords[2], { id: id });\n            }\n\n            // update UI if selected\n            if ($scope.point && ($scope.point.id === parseInt(id, 10))) {\n              $scope.point.x = coords[0];\n              $scope.point.y = coords[1];\n              $scope.point.z = coords[2];\n              // $scope.point.payload = { id: id };\n\n              $scope.$apply();\n            }\n\n\n            break;\n          case 'new':\n            var id = data[j][1];\n            var coords = data[j][2];\n            var prefab = data[j][3];\n\n            // todo - check for dupes\n            if (vertexIndex[id] !== null) {\n              // console.log('Dupe. Entity ' + id + ' already added');\n              break;\n            }\n\n            world.addPoint(coords[0], coords[1], coords[2], { id: id, prefab: prefab });\n          break;\n          case 'del':\n            var id = data[j][1];\n            world.deletePoint(vertexIndex[id]);\n            // remove id from vertex index\n            vertexIndex[id] = null;\n          break;\n        }\n\n\n      }\n\n    };\n    es.onopen = function(e) {\n      console.log('event source open', e);\n    };\n    es.onerror = function() {\n      console.log('ERROR!');\n    };\n  }\n\n\n});\n\n\n"],"sourceRoot":"/source/"}